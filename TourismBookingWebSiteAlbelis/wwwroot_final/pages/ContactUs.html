<!--
Description: Project Web Client Development 30%
			 Contact Us Page : This page contains the contact us information and the user can send a message
			 Cookies and Regular expresions are used. JavaScript and Jquery
Name: Albelis Becea
ID: 2110083
Date: July 23, 2021
VALIDATED 1 error input type="email"
-->
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en">

<head>
<title>Mochileros - Latin America - Contact Us Page</title>
<link rel="stylesheet" type="text/css" href="../css/stylepage.css"/>
<!--<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js" type="text/javascript">
<script src="../js/jquery.js" type="text/javascript"></script>
<script src="../js/javascript.js" type="text/javascript"></script>-->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js" type="text/javascript">
       
        $(document).ready(function(){ 
            $("selector").hide(); 
        }); 
        </script> 
<script language="javascript" type="text/javascript">
	var emailc, namec,phone, time1, time2, resultsec, resultmin, selectrad, department, msg;
	//stores the cookies in a cookie variable
	function setCookie(travelerscookie,value,exdays) {
	  const d = new Date();
	  d.setTime(d.getTime() + (exdays*24*60*60*1000));
	  let expires = "expires=" + d.toGMTString();
	  document.cookie = travelerscookie + "=" + value + ";" + expires + ";path=/";
	  //alert("cookie set");
	}
	
	//returns the value of a specified cookie
	function getCookie(cookie) {
			  let amount = cookie + "=";
			  let decodedCookie = decodeURIComponent(document.cookie);
			  let ca = decodedCookie.split(';');
			  for(let i = 0; i <ca.length; i++) {
				let c = ca[i];
				while (c.charAt(0) == ' ') {
				  c = c.substring(1);
				}
				if (c.indexOf(amount) == 0) {
			  return c.substring(amount.length, c.length);
			}
		  }
		  return "";
	}
	function gettingValues(){
		$('#msgbox').hide();
		var  name1, email1;
		  
		 
			name1=getCookie("n");
			
			email1=getCookie("e");
			//alert(name1+email1);
			document.getElementById("namc").value=name1;
			document.getElementById("emc").value=email1;
	}
	
	function ValidateInfo(){
		namec=document.getElementById("namc").value;
		var patt = /^[a-zA-Z]{2,15}\s[a-zA-Z]{2,15}(?:\s[a-zA-Z]{2,15})?$/i ;//2 or 3 names
		/*( letters a to z Min 2 max 15, space,  letters a to z Min 2 max 15, it could get an space and then another name*/
		
		if(patt.test(namec) == true)
		{	//alert(name);
			setCookie("cnamec",namec,1);
			emailc=document.getElementById("emc").value;
			var patt = /^[a-z0-9._\-&]+@[a-z]+\.[a-z]{2,4}$/i ;
			/*( letter a to z, numbers, special characters ._-&)@*(onlyletters allowed).(letters min 2 max 4*/
			
			if(patt.test(emailc) == true)
			{
					setCookie("cemailc",emailc,1);
					phone=document.getElementById("phon").value;
					var patt = /^\d{3}-\d{3}-\d{4}$/gm;
					/*( 3 digits - 3 digits - 2 digits - 2 digits*/
			
					if(patt.test(phone) == true)
					{
					    setCookie("cPhone",phone,1);
						document.getElementById("phon").value=phone;
						time2 = new Date();
						calculateTime();
						GetRadioCheck();
						department=document.getElementById("dpt").value;
						setCookie("cDpt",department,1);
						msg=document.getElementById("message").value;
						setCookie("cMssg",msg,1);
					}
					else{
					alert("Invalid phone number\nPlease use the format 123-456-7890");
						document.getElementById("phon").focus();
					}
			}
			else{
				alert("Invalid Email\nPlease try the following format\nSome Example\nabc123@gmail.com\n abc_123@yahoo.ca \n 123.123@abc.us");
				document.getElementById("emc").focus();}
		}
		else{
			alert("Invalid Name\nOnly allowed two or three names between 2 and 15 characters each");
			 
			document.getElementById("namc").focus();}
	}
	
	
	function displayMessage(){
	  $('#msgbox').show();
		time1 = new Date();
	}
	function calculateTime(){
		
		resultsec=((time2-time1)*0.001);
		resultsec=resultsec.toFixed(2);
		//resultsec=resultsec.toString.toFix(2);
		setCookie("ctimesec",resultsec,1);
		resultmin=(time2-time1)*1.66667e-5;
		resultmin=resultmin.toFixed(2);
		//alert(resultsec+" "+resultmin);
		setCookie("ctimemin",resultmin,1);
		
	}
	function GetRadioCheck(){
		var radio;
			radio = document.getElementsByName('location');
		for (var i = 0, length = radio.length; i < length; i++) {
		  if (radio[i].checked) {
			selectrad=radio[i].value;
			setCookie("cradiosele",selectrad,1);
			//alert(radio[i].value);
			break;
		}
		}
	}
	
</script>

</head>

<body onload="gettingValues()">
	<div id="Headersect">
		<h1>Contact Us!</h1>
	</div>
	<div class="boxcontact">
	<h2>Mochileros - Montreal</h2>
	<p>rez-de-chaussée, 2000 Saint-Catherine St W, Montreal, Quebec H3H 2T2</p>
	<iframe src="https://www.google.com/maps/embed?pb=!1m14!1m8!1m3!1d16762.604988727337!2d-73.58563062365424!3d45.49147137470787!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x8dbf497cbd80d838!2sColl%C3%A8ge%20LaSalle!5e0!3m2!1sen!2sca!4v1626217617546!5m2!1sen!2sca" width="400" height="300" style="border:0;" allowfullscreen="" loading="lazy"></iframe>

	<h2>Mochileros - Ottawa</h2>
	<p>380 Sussex Dr, Ottawa, ON K1N 9N4</p>
	<iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d359536.1450869988!2d-76.08044754998998!3d45.25029748592666!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x4cce04fc78d22043%3A0x66f4bb14e92117b7!2sNational%20Gallery%20of%20Canada!5e0!3m2!1sen!2sca!4v1626217799710!5m2!1sen!2sca" width="400" height="300" style="border:0;" allowfullscreen="" loading="lazy"></iframe>
	
	<h2>Mochileros - Toronto</h2>
	<p>2161 Queen St E, Toronto, ON M4L 1J1</p>
	<iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d46170.374928808844!2d-79.36567387974006!3d43.67628105554722!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x89d4cc0778dd7471%3A0xcae11842620d0814!2sToronto%20Public%20Library%20-%20Beaches%20Branch!5e0!3m2!1sen!2sca!4v1626218145161!5m2!1sen!2sca" width="400" height="300" style="border:0;" allowfullscreen="" loading="lazy"></iframe>
	</div>
	<div class="boxcontact">
		<div id="contactinfo">
			<ul>
				<li style="list-style-image: url('../img/mail.JPG ')">mochilerostravel@gmail.com</li>
				<li style="list-style-image: url('../img/telephone.JPG')">+1(514) 458 45 87</li>
				<li id="hours">Hours</li>
					<li  style="list-style:none">
					<ul style="font-size:16px; color:#555; font-weight:normal; padding-top:15px; list-style:none;" >
						<li>Montreal
							<ul style="list-style:none;">
								<li>Mon-Fri 8:00 am to 8:00pm</li>
								<li>Saturday 10:00am to 5:00 pm</li>
								<li>Sunday close</li>
							</ul>
						</li>	
						<li>Ottawa	
							<ul style="list-style:none;">
								<li>Mon-Fri 9:00 am to 8:00pm</li>
								<li>Saturday 9:00am to 6:00 pm</li>
								<li>Sunday close</li>
							</ul>
						</li>
						<li>Toronto	
							<ul style="list-style:none;">
								<li>Mon-Fri 8:00 am to 8:00pm</li>
								<li>Saturday 8:00am to 6:00 pm</li>
								<li>Sunday 9am to 3pm</li>
							</ul>
						</li>
					</ul>	
				</li>
			</ul>
				
				
	
			<button onclick="displayMessage()">Sent us a Message</button>
		</div>
		<div id="msgbox">
			<form  name="frm1" method="post">
				
					<div class="form-grp">
						<label for="namc">Name: </label>
						<input id="namc" type="text" name="name"/>
					</div>
					<div class="form-grp">
						<label for="emc">Email: </label>
						<input id="emc" type="email" name="email"/>
					</div>
					<div class="form-grp">
						<label for="phon">Phone Number: </label>
						<input id="phon" type="text" name="phone"/>
					</div>
					<div>
					<p>Select Location</p>
						<input type="radio" id="mtr" name="location" value="Montreal"/><label for="mtr">Montreal</label>
						<input type="radio" id="otw" name="location" value="Ottawa"/><label for="otw">Ottawa</label>
						<input type="radio" id="trt" name="location" value="Toronto"/><label for="trt">Toronto</label>
					</div>
					<div class="form-grp">
						<label for="dpt">Select Departmet</label>
						<select name="Messagetype" id="dpt">
						   <option value="Select_Option">Select Option</option>
						  <option value="Reservation Dpt">Reservation Departmet</option>
						  <option value="Support Dpt">Customer Support Departmet</option>
						  <option value="General Dpt">General</option>
						  <option value="Payment Dpt">Payment Departmet</option>
						</select>
					</div>
					<div class="form-grp">
						<label>Message: </label>
						<textarea id="message" name="msg" cols="3" rows="10"></textarea>
					</div>
					<input type="submit" value="Submit" onclick="ValidateInfo()" /><!--onclick="ValidateInfo()"-->
				
			</form>
		</div>	
		<a href="CookiesContactUsPage.html">Click here to see your Message</a>	
	</div>
	<div class="clr"></div>
	<div id="footer">
			<p>Copyrigth © 2021 Albelis Becea</p>
	</div>

</body>
</html>